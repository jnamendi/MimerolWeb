<div *ngIf="visible" class="dialog-container">
    <div class="dialog-wrapper">
        <div class="dialog-header">
            <h4 class="title" [innerHTML]="'Commons.Texts.OrderDetails' | translate"></h4> ({{orderCode}})
            <a class="btn-close" (click)="onClose(false)"></a>
        </div>

        <div class="order-box">
            <div class="order-wrapper">
                <div class="order-picture">
                    <img class="logo"
                        src="{{adminOrderModel && adminOrderModel.imageUrl =='' ? 'assets/images/logo.png' : clientState.BaseUrl + adminOrderModel.imageUrl}}"
                        alt="{{adminOrderModel && adminOrderModel.restaurantName}}" />
                </div>
                <div class="order-detail">
                    <h2 class="restaurant-name">
                        {{adminOrderModel && adminOrderModel.restaurantName}}
                    </h2>
                    <p>
                        <i>#{{adminOrderModel && adminOrderModel.orderCode}}</i>
                    </p>
                    <p>{{adminOrderModel && adminOrderModel.totalPrice}} {{currencySymbol}}</p>
                    <p>{{adminOrderModel && adminOrderModel.orderDate | date: 'dd-MM-yyyy'}}
                        <span [innerHTML]="'Components.Order.At' | translate"></span>
                        {{adminOrderModel && adminOrderModel.orderDate | date: 'HH:mm'}} -
                        <span [innerHTML]="'Components.Order.DeliveredTo' | translate"></span>
                        <span
                            *ngIf="adminOrderModel.orderInfos && adminOrderModel.orderInfos[0]">{{adminOrderModel && adminOrderModel.orderInfos[0].address}},
                            {{adminOrderModel && adminOrderModel.orderInfos[0].district}},
                            {{adminOrderModel && adminOrderModel.orderInfos[0].city}}</span>
                    </p>
                </div>
            </div>
        </div>
        <div class="order-details">
            <h4>
                <b>Your order</b>
            </h4>
            <div class="order-details-content">
                <table border="0" cellspacing="0" cellpadding="0">
                    <tbody>
                        <tr *ngFor="let orderItem of adminOrderModel.orderLineitems">
                            <td>{{orderItem.quantity}}x</td>
                            <td>{{orderItem.menuItemName}}</td>
                            <td>{{orderItem.total}} {{currencySymbol}}</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="delivery-costs">Delivery:</td>
                            <td>{{adminOrderModel.deliveryCost}} {{currencySymbol}}</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="total-costs">
                                <b>Total:</b>
                            </td>
                            <td>
                                <b>{{adminOrderModel.totalPrice}} {{currencySymbol}}</b>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="payment-method">Payment method:</td>
                            <td>{{paymentMethod[adminOrderModel.paymentType]}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <form (ngSubmit)="onUpdateOrder(f)" #f="ngForm" novalidate>
            <div class="order-status">
                <h4>
                    <b>Status</b>
                </h4>
                <div class="row">
                    <div class="col-md-6">
                        <select name="status" class="form-control" [(ngModel)]="adminOrderModel.status"
                            #status="ngModel" required>
                            <option value="1" [innerHTML]="'Commons.Texts.New' | translate"></option>
                            <option value="2" [innerHTML]="'Commons.Texts.InProgress' | translate"></option>
                            <option value="3" [innerHTML]="'Commons.Texts.Deliveried' | translate"></option>
                            <option value="5" [innerHTML]="'Commons.Texts.Canceled' | translate"></option>
                            <option value="7" [innerHTML]="'Commons.Texts.Complete' | translate"></option>
                        </select>
                        <div *ngIf="status.invalid && (status.dirty || status.touched || f.submitted)" class="error">
                            <div *ngIf="status.errors?.required" [innerHTML]="'Commons.Error.ErrRequired' | translate">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dialog-footer">
                <button type="submit" class="btn btn-default btn-primary" [disabled]="isProgressing"
                    [innerHTML]="'Admin.Orders.UpdateOrder' | translate"></button>
            </div>
        </form>
    </div>
    <div class="overlay is-open" (click)="onClose(false)"></div>
</div>